#---------------------------------------------------------------------
# Title      : Rohde & Schwarz FSL Spectrum Analyzer Epics Database File
# Project    :
#---------------------------------------------------------------------
# File       : rsfsx.db
# Author     : Leticia Garcez Capovilla
# Company    : Brazilian Synchrotron Light Laboratory, LNLS/CNPEM
# Created    : 2018-03-19
# Last update: 2019-02-04
#---------------------------------------------------------------------
# Description:
#
# Defines database to use the device in EPICS
#
#---------------------------------------------------------------------
# Copyright (c) 2018 Brazilian Synchrotron Light Laboratory, LNLS/CNPEM
#
# This program is free software: you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public License
# as published by the Free Software Foundation, either version 3 of
# the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this program. If not, see
# <http://www.gnu.org/licenses/>.
#---------------------------------------------------------------------
# Revisions  :
# Date        	Version  	Author         		Description
# 2018-mar-19 	1.0      	leticiagcapovilla       Created
# 2019-feb-04	2.0		leticiagcapovilla	Updated
#---------------------------------------------------------------------

#####################################################################
# Reference Level

record(ai, "$(P)$(R)RefLvl-RB") {
  field(DESC, "Get reference level")
  field(DTYP, "stream")
  field(PREC, "2")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto inRefLvl $(PORT)")
  field(FLNK, "$(P)$(R)AttIn-Sts")
}

record(ao, "$(P)$(R)RefLvl-SP") {
  field(DESC, "Set reference level")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(DRVH, "30")
  field(DRVL, "-130")
  field(PREC, "2")
  field(EGU, "dBm")
  field(OUT, "@rsfsx.proto outRefLvl($1) $(PORT)")
  field(FLNK,"$(P)$(R)RefLvl-RB")
}

# Reference Level Offset

record(ai, "$(P)$(R)RefOff-RB") {
  field(DESC, "Get reference level offset")
  field(DTYP, "stream")
  field(PREC, "2")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto inRefOff $(PORT)")
}

record(ao, "$(P)$(R)RefOff-SP") {
  field(DESC, "Set reference level offset")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(DRVH, "200")
  field(DRVL, "-200")
  field(PREC, "2")
  field(EGU, "dB")
  field(OUT, "@rsfsx.proto outRefOff($1) $(PORT)")
  field(FLNK,"$(P)$(R)RefOff-RB")
}

# Display range of the y-axis

record(ai, "$(P)$(R)DispRange-RB") {
  field(DESC, "Get display range of the y-axis")
  field(DTYP, "stream")
  field(PREC, "0")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto inDispRange $(PORT)")
}

record(ao, "$(P)$(R)DispRange-SP") {
  field(DESC, "Set display range of the y-axis")
  field(PINI, "YES")
  field(PREC, "0")
  field(DTYP, "stream")
  field(DRVH, "200")
  field(DRVL, "10")
  field(EGU, "dB")
  field(OUT, "@rsfsx.proto outDispRange($1) $(PORT)")
  field(FLNK,"$(P)$(R)DispRange-RB")
}

# Enable Continuous Sweep Mode

record(bi, "$(P)$(R)EnblContSwe-Sts") {
  field(DESC, "Get Continuous Sweep State")
  field(DTYP, "stream")
  field(ZNAM, "SINGLE")
  field(ONAM, "CONTINUOUS")
  field(INP, "@rsfsx.proto inEnblContSwe $(PORT)")
}

record(bo, "$(P)$(R)EnblContSwe-Sel") {
  field(DESC, "Enable/Disable Continuous Sweep")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "SINGLE")
  field(ONAM, "CONTINUOUS")
  field(OUT, "@rsfsx.proto outEnblContSwe($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblContSwe-Sts")
}

# Number of Sweep Points

record(ai, "$(P)$(R)SwePts-RB") {
  field(DESC, "Get number of points in one sweep")
  field(DTYP, "stream")
  field(EGU, "points")
  field(INP, "@rsfsx.proto inSwePts $(PORT)")
  field(FLNK, "$(P)$(R)FreqArray-Mon")
}

record(ao, "$(P)$(R)SwePts-SP") {
  field(DESC, "Set number of points in one sweep")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(DRVH, "32001")
  field(DRVL, "101")
  field(EGU, "points")
  field(OUT, "@rsfsx.proto outSwePts($1) $(PORT)")
  field(FLNK, "$(P)$(R)SwePts-RB")
}

# Sweep Time

record(ai, "$(P)$(R)SweTime-Mon") {
  field(DESC, "Get Sweep Time")
  field(DTYP, "stream")
  field(PREC, "3")
  field(ASLO, "1000")
  field(EGU, "ms")
  field(INP, "@rsfsx.proto inSweTime $(PORT)")
}

# Enable/Disable automatic coupling of the sweep time to the
# frequency span and bandwidth settings

record(bi, "$(P)$(R)EnblSweTimeAuto-Sts") {
  field(DESC, "Get Sweep Time Auto Coupling State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblSweTimeAuto $(PORT)")
  field(FLNK, "$(P)$(R)SweTime-Mon")
}

record(bo, "$(P)$(R)EnblSweTimeAuto-Sel") {
  field(DESC, "Enable/Disable Sweep Time Auto Coupling")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblSweTimeAuto($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblSweTimeAuto-Sts")
}

# Type of display and evaluation of trace

record(mbbi, "$(P)$(R)TraceMode-Sts") {
  field(DESC, "Get Evaluation and display of trace")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "WRIT")
  field(ONVL, "1")
  field(ONST, "VIEW")
  field(TWVL, "2")
  field(TWST, "AVER")
  field(THVL, "3")
  field(THST, "MAXH")
  field(FRVL, "4")
  field(FRST, "MINH")
  field(FVVL, "5")
  field(FVST, "BLANK")
  field(INP, "@rsfsx.proto inTraceMode $(PORT)")
}

record(mbbo, "$(P)$(R)TraceMode-Sel") {
  field(DESC, "Set Evaluation and display of trace")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "WRIT")
  field(ONVL, "1")
  field(ONST, "VIEW")
  field(TWVL, "2")
  field(TWST, "AVER")
  field(THVL, "3")
  field(THST, "MAXH")
  field(FRVL, "4")
  field(FRST, "MINH")
  field(FVVL, "5")
  field(FVST, "BLANK")
  field(OUT, "@rsfsx.proto outTraceMode($1) $(PORT)")
  field(FLNK, "$(P)$(R)TraceMode-Sts")
}

# Center Frequency

record(ai, "$(P)$(R)FreqCenter-RB") {
  field(DESC, "Get center frequency")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inFrqCent $(PORT)")
}

record(ao, "$(P)$(R)FreqCenter-SP") {
  field(DESC, "Set center frequency")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outFrqCent($1) $(PORT)")
  field(FLNK,"$(P)$(R)FreqCenter-RB")
}

# Frequency Step

record(ai, "$(P)$(R)FreqStep-RB") {
  field(DESC, "Get the frequency step size")
  field(DTYP, "stream")
  field(PREC, "1")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inFreqStep $(PORT)")
}

record(ao, "$(P)$(R)FreqStep-SP") {
  field(DESC, "Set the frequency step size")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outFreqStep($1) $(PORT)")
  field(FLNK,"$(P)$(R)FreqStep-RB")
}

# Frequency Step Link

record(mbbi, "$(P)$(R)StepLink-Sts") {
  field(DESC, "Get the step size coupling")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "SPAN")
  field(ONVL, "1")
  field(ONST, "RBW")
  field(TWVL, "2")
  field(TWST, "OFF")
  field(INP, "@rsfsx.proto inStepLink $(PORT)")
}

record(mbbo, "$(P)$(R)StepLink-Sel") {
  field(DESC, "Set the step size coupling")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "SPAN")
  field(ONVL, "1")
  field(ONST, "RBW")
  field(TWVL, "2")
  field(TWST, "OFF")
  field(OUT, "@rsfsx.proto outStepLink($1) $(PORT)")
  field(FLNK, "$(P)$(R)StepLink-Sts")
}

# Enable/Disable Auto Frequency Step Size (step coupled to span)

record(bi, "$(P)$(R)AutoStep-Sts") {
  field(DESC, "Get automatic step size state")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inAutoStep $(PORT)")
}

record(bo, "$(P)$(R)AutoStep-Sel") {
  field(DESC, "Enable/Disable automatic step size state")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outAutoStep($1) $(PORT)")
  field(FLNK, "$(P)$(R)AutoStep-Sts")
}

# Frequency Span

record(ai, "$(P)$(R)FreqSpan-RB") {
  field(DESC, "Get frequency span")
  field(DTYP, "stream")
  field(PREC, "1")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inFrqSpan $(PORT)")
}

record(ao, "$(P)$(R)FreqSpan-SP") {
  field(DESC, "Set frequency span")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outFrqSpan($1) $(PORT)")
  field(FLNK,"$(P)$(R)FreqSpan-RB")
}

# Start Frequency

record(ai, "$(P)$(R)FreqStart-RB") {
  field(DESC, "Get start frequency")
  field(DTYP, "stream")
  field(PREC, "1")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inFrqStart $(PORT)")
}

record(ao, "$(P)$(R)FreqStart-SP") {
  field(DESC, "Set start frequency")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outFrqStart($1) $(PORT)")
  field(FLNK,"$(P)$(R)FreqStart-RB")
}

record(calc, "$(P)$(R)FreqStartDisp-Mon") {
  field(DESC, "Freq start display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)FreqStart-RB CPP")
  field(CALC, "A/1000000")
}

# Stop Frequency

record(ai, "$(P)$(R)FreqStop-RB") {
  field(DESC, "Get stop frequency")
  field(DTYP, "stream")
  field(PREC, "1")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inFrqStop $(PORT)")
}

record(ao, "$(P)$(R)FreqStop-SP") {
  field(DESC, "Set stop frequency")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outFrqStop($1) $(PORT)")
  field(FLNK,"$(P)$(R)FreqStop-RB")
}

record(calc, "$(P)$(R)FreqStopDisp-Mon") {
  field(DESC, "Freq stop display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)FreqStop-RB CPP")
  field(CALC, "A/1000000")
}

# Automatic Resolution Bandwidth

record(bi, "$(P)$(R)EnblRbwAuto-Sts") {
  field(DESC, "Enable/Disable Rbw Coupling to span")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inRbwAuto $(PORT)")
 }

record(bo, "$(P)$(R)EnblRbwAuto-Sel") {
  field(DESC, "Enable/Disable Rbw Coupling to span")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outRbwAuto($1) $(PORT)")
  field(FLNK, "$(P)$(R)EnblRbwAuto-Sts")
}

# Enable/Disable automatic coupling of the video bandwidth to the
# resolution bandwidth

record(bi, "$(P)$(R)EnblVbwAuto-Sts") {
  field(DESC, "Enable/Disable Vbw Coupling")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblVbwAuto $(PORT)")
 }

record(bo, "$(P)$(R)EnblVbwAuto-Sel") {
  field(DESC, "Enable/Disable Vbw Coupling")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblVbwAuto($1) $(PORT)")
  field(FLNK, "$(P)$(R)EnblVbwAuto-Sts")
}

# Select Detector Type Manually

record(mbbi, "$(P)$(R)DetecType-Sts") {
  field(DESC, "Get Detector Type")
  field(DTYP, "stream")
  field(ZRST, "APE")
  field(ZRVL, "0")
  field(ONST, "NEG")
  field(ONVL, "1")
  field(TWST, "POS")
  field(TWVL, "2")
  field(THST, "SAMP")
  field(THVL, "3")
  field(FRST, "RMS")
  field(FRVL, "4")
  field(FVST, "AVER")
  field(FVVL, "5")
  field(SXST, "QPE")
  field(SXVL, "6")
  field(INP, "@rsfsx.proto inDetecType $(PORT)")
}

record(mbbo, "$(P)$(R)DetecType-Sel") {
  field(DESC, "Set Detector Type Manually")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZRST, "APE")
  field(ZRVL, "0")
  field(ONST, "NEG")
  field(ONVL, "1")
  field(TWST, "POS")
  field(TWVL, "2")
  field(THST, "SAMP")
  field(THVL, "3")
  field(FRST, "RMS")
  field(FRVL, "4")
  field(FVST, "AVER")
  field(FVVL, "5")
  field(SXST, "QPE")
  field(SXVL, "6")
  field(OUT, "@rsfsx.proto outDetecType($1) $(PORT)")
  field(FLNK, "$(P)$(R)DetecType-Sts")
}

# Automatic Detector Type Selection

record(bi, "$(P)$(R)EnblAutoDetec-Sts") {
  field(DESC, "Get Automatic Detector Type State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inAutoDetec $(PORT)")
}

record(bo, "$(P)$(R)EnblAutoDetec-Sel") {
  field(DESC, "Enable/Disable Auto Detector Type State")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outAutoDetec($1) $(PORT)")
  field(FLNK, "$(P)$(R)EnblAutoDetec-Sts")
}

#Enable/Disable Markers (1-4)

# The Marker1 will stay ON if any Delta Marker is also ON or if the Limited Search ($(P)$(R)EnblMarkLimit-Sts) is ON

record(bi, "$(P)$(R)EnblMark1-Sts") {
  field(DESC, "Get Marker1 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMark1 $(PORT)")
}

record(bo, "$(P)$(R)EnblMark1-Sel") {
  field(DESC, "Enable or Disable Marker1 State")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMark1($1) $(PORT)")
  field(FLNK, "$(P)$(R)EnblMark1-Sts")
}

record(bi, "$(P)$(R)EnblMark2-Sts") {
  field(DESC, "Get Marker2 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMark2 $(PORT)")
}

record(bo, "$(P)$(R)EnblMark2-Sel") {
  field(DESC, "Enable or Disable Marker2 State")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMark2($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMark2-Sts")
}

record(bi, "$(P)$(R)EnblMark3-Sts") {
  field(DESC, "Get Marker3 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMark3 $(PORT)")
}

record(bo, "$(P)$(R)EnblMark3-Sel") {
  field(DESC, "Enable or Disable Marker3 State")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMark3($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMark3-Sts")
}

record(bi, "$(P)$(R)EnblMark4-Sts") {
  field(DESC, "Get Marker4 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMark4 $(PORT)")
}

record(bo, "$(P)$(R)EnblMark4-Sel") {
  field(DESC, "Enable or Disable Marker4 State")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMark4($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMark4-Sts")
}

# Markers X Values

# The input records will only process when the respective Marker
# is ON or if a value is set to the Marker (using the output xxx-SP PV)

record(ai, "$(P)$(R)MarkX1-RB") {
  field(DESC, "Get X value of the marker1")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX1 $(PORT)")
}

record(ao, "$(P)$(R)MarkX1-SP") {
  field(DESC, "Set X value of the marker1")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outMarkX1($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkX1-RB")
}

record(calc, "$(P)$(R)MarkX1Disp-Mon") {
  field(DESC, "Marker1 x value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)MarkX1-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)MarkX2-RB") {
  field(DESC, "Get X value of the marker2")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX2 $(PORT)")
}

record(ao, "$(P)$(R)MarkX2-SP") {
  field(DESC, "Set X value of the marker2")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outMarkX2($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkX2-RB")
}

record(calc, "$(P)$(R)MarkX2Disp-Mon") {
  field(DESC, "Marker2 x value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)MarkX2-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)MarkX3-RB") {
  field(DESC, "Get X value of the marker3")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX3 $(PORT)")
}

record(ao, "$(P)$(R)MarkX3-SP") {
  field(DESC, "Set X value of the marker3")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outMarkX3($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkX3-RB")
}

record(calc, "$(P)$(R)MarkX3Disp-Mon") {
  field(DESC, "Marker3 x value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)MarkX3-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)MarkX4-RB") {
  field(DESC, "Get X value of the marker4")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX4 $(PORT)")
}

record(ao, "$(P)$(R)MarkX4-SP") {
  field(DESC, "Set X value of the marker4")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outMarkX4($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkX4-RB")
}

record(calc, "$(P)$(R)MarkX4Disp-Mon") {
  field(DESC, "Marker4 x value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)MarkX4-RB CPP")
  field(CALC, "A/1000000")
}

# Enable/Disable Marker Frequency Counter (only available for Marker1)

record(bi, "$(P)$(R)EnblMarkCount-Sts") {
  field(DESC, "Get Marker Freq. Counter State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMarkCount $(PORT)")
}

record(bo, "$(P)$(R)EnblMarkCount-Sel") {
  field(DESC, "Enable/Disable Marker Freq. Counter")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMarkCount($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMarkCount-Sts")
}

# Enable/Disable automatic maximum peak search

###### Maximum peak search for marker 1

record(bi, "$(P)$(R)EnblMaxAuto1-Sts") {
  field(DESC, "Get Automatic Peak Search State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMaxAuto $(PORT)")
}

record(bo, "$(P)$(R)EnblMaxAuto1-Sel") {
  field(DESC, "Enable or Disable Automatic Peak Search")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMaxAuto($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMaxAuto1-Sts")
}

##### Maximum peak search for marker 2

record(bo, "$(P)$(R)EnblMaxAuto2-Sel") {
  field(OUT, "$(P)$(R)OnOffMark2-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblMaxAuto2-Sts")
}

record(bi, "$(P)$(R)EnblMaxAuto2-Sts") {
  field(INP, "$(P)$(R)EnblMaxAuto2-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffMark2-Sel") {
  field(DESC, "Place Mark2 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto2-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffM2($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicX2-Mon")
}

record(ai, "$(P)$(R)DynamicX2-Mon") {
  field(DESC, "Get X value of the marker2")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto2-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX2 $(PORT)")
}

##### Maximum peak search for marker3

record(bo, "$(P)$(R)EnblMaxAuto3-Sel") {
  field(OUT, "$(P)$(R)OnOffMark3-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblMaxAuto3-Sts")
}

record(bi, "$(P)$(R)EnblMaxAuto3-Sts") {
  field(INP, "$(P)$(R)EnblMaxAuto3-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffMark3-Sel") {
  field(DESC, "Place Mark3 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto3-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffM3($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicX3-Mon")
}

record(ai, "$(P)$(R)DynamicX3-Mon") {
  field(DESC, "Get X value of the marker3")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto3-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX3 $(PORT)")
}

##### Maximum peak search for marker4

record(bo, "$(P)$(R)EnblMaxAuto4-Sel") {
  field(OUT, "$(P)$(R)OnOffMark4-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblMaxAuto4-Sts")
}

record(bi, "$(P)$(R)EnblMaxAuto4-Sts") {
  field(INP, "$(P)$(R)EnblMaxAuto4-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffMark4-Sel") {
  field(DESC, "Place Mark4 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto4-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffM4($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicX4-Mon")
}

record(ai, "$(P)$(R)DynamicX4-Mon") {
  field(DESC, "Get X value of the marker3")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMaxAuto4-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inMarkX4 $(PORT)")
}

# Enable automatic minimum peak searh (only available for Marker1)

record(bi, "$(P)$(R)EnblMinAuto-Sts") {
  field(DESC, "Get Automatic Peak Search State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMinAuto $(PORT)")
}

record(bo, "$(P)$(R)EnblMinAuto-Sel") {
  field(DESC, "Enable or Disable Automatic Peak Search")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMinAuto($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblMinAuto-Sts")
}

# Enable/Disable marker limited search range

record(bi, "$(P)$(R)EnblMarkLimit-Sts") {
  field(DESC, "Get Automatic Peak Search State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblMarkLimit $(PORT)")
}

record(bo, "$(P)$(R)EnblMarkLimit-Sel") {
  field(DESC, "Enable or Disable Automatic Peak Search")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblMarkLimit($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkLimitFout")
}

# Left limit for the search range

record(ai, "$(P)$(R)MarkLimitLeft-RB") {
  field(DESC, "Get left limit for the search range")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMarkLimit-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(INP, "@rsfsx.proto inMarkLimitLeft $(PORT)")
}

record(ao, "$(P)$(R)MarkLimitLeft-SP") {
  field(DESC, "Set Left limit for the search range")
  field(PINI, "YES")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMarkLimit-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(OUT, "@rsfsx.proto outMarkLimitLeft($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkLimitLeft-RB")
}

# Right limit for the search range

record(ai, "$(P)$(R)MarkLimitRight-RB") {
  field(DESC, "Get Right Limit for the Search Range")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMarkLimit-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(INP, "@rsfsx.proto inMarkLimitRight $(PORT)")
}

record(ao, "$(P)$(R)MarkLimitRight-SP") {
  field(DESC, "Set Right Limit for the Search Range")
  field(PINI, "YES")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMarkLimit-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(OUT, "@rsfsx.proto outMarkLimitRight($1) $(PORT)")
  field(FLNK,"$(P)$(R)MarkLimitRight-RB")
}

# Marker Limit Fanout

record(fanout, "$(P)$(R)MarkLimitFout") {
  field(LNK1, "$(P)$(R)EnblMarkLimit-Sts")
  field(LNK2, "$(P)$(R)MarkLimitRight-RB")
  field(LNK3, "$(P)$(R)MarkLimitLeft-RB")
  field(SELM, "All")
}

# Enable/Disable Markers (1-4)
# If any Delta Marker is ON it will cause at least one Marker to remain ON (Marker1 default)

record(bi, "$(P)$(R)EnblDMark1-Sts") {
  field(DESC, "Get Delta Marker1 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblDMark1 $(PORT)")
  field(FLNK, "$(P)$(R)MarkStateFout")
}

record(bo, "$(P)$(R)EnblDMark1-Sel") {
  field(DESC, "Enable or Disable Delta Marker1")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblDMark1($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblDMark1-Sts")
}

record(bi, "$(P)$(R)EnblDMark2-Sts") {
  field(DESC, "Get Delta Marker2 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblDMark2 $(PORT)")
  field(FLNK, "$(P)$(R)MarkStateFout")
}

record(bo, "$(P)$(R)EnblDMark2-Sel") {
  field(DESC, "Enable or Disable Delta Marker2")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblDMark2($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblDMark2-Sts")
}

record(bi, "$(P)$(R)EnblDMark3-Sts") {
  field(DESC, "Get Delta Marker3 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblDMark3 $(PORT)")
  field(FLNK, "$(P)$(R)MarkStateFout")
}

record(bo, "$(P)$(R)EnblDMark3-Sel") {
  field(DESC, "Enable or Disable Delta Marker3")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblDMark3($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblDMark3-Sts")
}

record(bi, "$(P)$(R)EnblDMark4-Sts") {
  field(DESC, "Get Delta Marker4 State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblDMark4 $(PORT)")
  field(FLNK, "$(P)$(R)MarkStateFout")
}

record(bo, "$(P)$(R)EnblDMark4-Sel") {
  field(DESC, "Enable or Disable Delta Marker4")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblDMark4($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblDMark4-Sts")
}

record(fanout, "$(P)$(R)MarkStateFout") {
  field(LNK1, "$(P)$(R)EnblMark1-Sts")
  field(LNK2, "$(P)$(R)EnblMark2-Sts")
  field(LNK3, "$(P)$(R)EnblMark3-Sts")
  field(LNK4, "$(P)$(R)EnblMark4-Sts")
  field(SELM, "All")
}

# Enable/Disable Auto Max Peak Search for Delta Markers

##### Maximum peak search for Dmarker1

record(bo, "$(P)$(R)EnblDMaxAuto1-Sel") {
  field(OUT, "$(P)$(R)OnOffDMark1-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblDMaxAuto1-Sts")
}

record(bi, "$(P)$(R)EnblDMaxAuto1-Sts") {
  field(INP, "$(P)$(R)EnblDMaxAuto1-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffDMark1-Sel") {
  field(DESC, "Place DMark1 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto1-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffDM1($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicDX1-Mon")
}
record(ai, "$(P)$(R)DynamicDX1-Mon") {
  field(DESC, "Get X value of the marker3")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto1-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX1 $(PORT)")
}

##### Maximum peak search for Dmarker2

record(bo, "$(P)$(R)EnblDMaxAuto2-Sel") {
  field(OUT, "$(P)$(R)OnOffDMark2-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblDMaxAuto2-Sts")
}

record(bi, "$(P)$(R)EnblDMaxAuto2-Sts") {
  field(INP, "$(P)$(R)EnblDMaxAuto2-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffDMark2-Sel") {
  field(DESC, "Place DMark2 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto2-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffDM2($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicDX2-Mon")
}
record(ai, "$(P)$(R)DynamicDX2-Mon") {
  field(DESC, "Get X value of the marker2")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto2-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX2 $(PORT)")
}

##### Maximum peak search for Dmarker3

record(bo, "$(P)$(R)EnblDMaxAuto3-Sel") {
  field(OUT, "$(P)$(R)OnOffDMark3-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblDMaxAuto3-Sts")
}

record(bi, "$(P)$(R)EnblDMaxAuto3-Sts") {
  field(INP, "$(P)$(R)EnblDMaxAuto3-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffDMark3-Sel") {
  field(DESC, "Place DMark3 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto3-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffDM3($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicDX3-Mon")
}
record(ai, "$(P)$(R)DynamicDX3-Mon") {
  field(DESC, "Get X value of the marker3")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto3-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX3 $(PORT)")
}

##### Maximum peak search for Dmarker4

record(bo, "$(P)$(R)EnblDMaxAuto4-Sel") {
  field(OUT, "$(P)$(R)OnOffDMark4-Sel.RVAL")
  field(FLNK, "$(P)$(R)EnblDMaxAuto4-Sts")
}

record(bi, "$(P)$(R)EnblDMaxAuto4-Sts") {
  field(INP, "$(P)$(R)EnblDMaxAuto4-Sel.RVAL")
}

record(bo, "$(P)$(R)OnOffDMark4-Sel") {
  field(DESC, "Place DMark4 on Max Peak")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto4-Sel")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outOnOffDM4($1) $(PORT)")
  field(FLNK, "$(P)$(R)DynamicDX4-Mon")
}
record(ai, "$(P)$(R)DynamicDX4-Mon") {
  field(DESC, "Get X value of the marker3")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMaxAuto4-Sel")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX4 $(PORT)")
}

# Delta Markers X Values
# The input records will only process when the respective Delta Marker
# is ON or if a value is set to the Delta Marker (using the output xxx-SP PV)

record(ai, "$(P)$(R)DMarkX1-RB") {
  field(DESC, "Get X value of the marker1")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX1 $(PORT)")
}

record(ao, "$(P)$(R)DMarkX1-SP") {
  field(DESC, "Set X value of the marker1")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outDMarkX1($1) $(PORT)")
  field(FLNK,"$(P)$(R)DMarkX1-RB")
}

record(calc, "$(P)$(R)DMarkX1Disp-Mon") {
  field(DESC, "DMarker1 x value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkX1-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)DMarkX2-RB") {
  field(DESC, "Get X value of the marker2")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX2 $(PORT)")
}

record(ao, "$(P)$(R)DMarkX2-SP") {
  field(DESC, "Set X value of the marker2")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outDMarkX2($1) $(PORT)")
  field(FLNK,"$(P)$(R)DMarkX2-RB")
}

record(calc, "$(P)$(R)DMarkX2Disp-Mon") {
  field(DESC, "DMarker2 x value display")
  field(PREC, "2")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkX2-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)DMarkX3-RB") {
  field(DESC, "Get X value of the marker3")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX3 $(PORT)")
}

record(ao, "$(P)$(R)DMarkX3-SP") {
  field(DESC, "Set X value of the marker3")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outDMarkX3($1) $(PORT)")
  field(FLNK,"$(P)$(R)DMarkX3-RB")
}

record(calc, "$(P)$(R)DMarkX3Disp-Mon") {
  field(DESC, "DMarker3 x value display")
  field(PREC, "3")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkX3-RB CPP")
  field(CALC, "A/1000000")
}

record(ai, "$(P)$(R)DMarkX4-RB") {
  field(DESC, "Get X value of the marker4")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto inDMarkX4 $(PORT)")
}

record(ao, "$(P)$(R)DMarkX4-SP") {
  field(DESC, "Set X value of the marker4")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "Hz")
  field(OUT, "@rsfsx.proto outDMarkX4($1) $(PORT)")
  field(FLNK,"$(P)$(R)DMarkX4-RB")
}

record(calc, "$(P)$(R)DMarkX4Disp-Mon") {
  field(DESC, "DMarker4 x value display")
  field(PREC, "4")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkX4-RB CPP")
  field(CALC, "A/1000000")
}

# State of the tracking generator output

record(bi, "$(P)$(R)EnblTrkGen-Sts") {
  field(DESC, "Get Tracking Generator State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblOut $(PORT)")
}

record(bo, "$(P)$(R)EnblTrkGen-Sel") {
  field(DESC, "Enable or Disable Tracking Generator")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblOut($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblTrkGen-Sts")
}

# Input Attenuator Value

record(mbbi, "$(P)$(R)AttIn-Sts") {
  field(DTYP, "stream")
  field(ZRST, "0 dB")
  field(ZRVL, "0")
  field(ONST, "5 dB")
  field(ONVL, "5")
  field(TWST, "10 dB")
  field(TWVL, "10")
  field(THST, "15 dB")
  field(THVL, "15")
  field(FRST, "20 dB")
  field(FRVL, "20")
  field(FVST, "25 dB")
  field(FVVL, "25")
  field(SXST, "30 dB")
  field(SXVL, "30")
  field(SVST, "35 dB")
  field(SVVL, "35")
  field(EIST, "40 dB")
  field(EIVL, "40")
  field(NIST, "45 dB")
  field(NIVL, "45")
  field(TEST, "50 dB")
  field(TEVL, "50")
  field(INP, "@rsfsx.proto inAttIn $(PORT)")
}

record(mbbo, "$(P)$(R)AttIn-Sel") {
  field(DTYP, "stream")
  field(SDIS, "$(P)$(R)EnblAttAuto-Sts.RVAL")
  field(DISV, "1")
  field(ZRST, "0 dB")
  field(ZRVL, "0")
  field(ONST, "5 dB")
  field(ONVL, "5")
  field(TWST, "10 dB")
  field(TWVL, "10")
  field(THST, "15 dB")
  field(THVL, "15")
  field(FRST, "20 dB")
  field(FRVL, "20")
  field(FVST, "25 dB")
  field(FVVL, "25")
  field(SXST, "30 dB")
  field(SXVL, "30")
  field(SVST, "35 dB")
  field(SVVL, "35")
  field(EIST, "40 dB")
  field(EIVL, "40")
  field(NIST, "45 dB")
  field(NIVL, "45")
  field(TEST, "50 dB")
  field(TEVL, "50")
  field(OUT, "@rsfsx.proto outAttIn($1) $(PORT)")
  field(FLNK, "$(P)$(R)AttIn-Sts")
}

# Enable/Disable automatic coupling of the input attenuation to the
# reference level

record(bi, "$(P)$(R)EnblAttAuto-Sts") {
  field(DESC, "Get Automatic Input Coupling State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblAttAuto $(PORT)")
  field(FLNK, "$(P)$(R)AttIn-Sts")
}

record(bo, "$(P)$(R)EnblAttAuto-Sel") {
  field(DESC, "Enable/Disable Autom. Input Coupling")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblAttAuto($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblAttAuto-Sts")
}

# Enable/Disable Input Preamplifier - Only Available on R&S FSL-B22

record(bi, "$(P)$(R)EnblPreamp-Sts") {
  field(DESC, "Get Input Preamplifier State")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(INP, "@rsfsx.proto inEnblPreamp $(PORT)")
}

record(bo, "$(P)$(R)EnblPreamp-Sel") {
  field(DESC, "Enable or Disable Input Preamplifier")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(OUT, "@rsfsx.proto outEnblPreamp($1) $(PORT)")
  field(FLNK,"$(P)$(R)EnblPreamp-Sts")
}

# Instrments Nominal Input Impedance

record(bi, "$(P)$(R)ImpdIn-Sts") {
  field(DESC, "Get Input Impedance")
  field(DTYP, "stream")
  field(ZNAM, "50")
  field(ONAM, "75")
  field(INP, "@rsfsx.proto inImpdIn $(PORT)")
}

record(bo, "$(P)$(R)ImpdIn-Sel") {
  field(DESC, "Set Input Impedance")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "50")
  field(ONAM, "75")
  field(OUT, "@rsfsx.proto outImpdIn($1) $(PORT)")
  field(FLNK,"$(P)$(R)ImpdIn-Sts")
}

# Oscilators Reference

record(bi, "$(P)$(R)RoscSrc-Sts") {
  field(DESC, "Get Oscillators Reference")
  field(DTYP, "stream")
  field(ZNAM, "INT")
  field(ONAM, "EXT")
  field(INP, "@rsfsx.proto inRoscSrc $(PORT)")
}

record(bo, "$(P)$(R)RoscSrc-Sel") {
  field(DESC, "Set Oscillators Reference")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZNAM, "INT")
  field(ONAM, "EXT")
  field(OUT, "@rsfsx.proto outRoscSrc($1) $(PORT)")
  field(FLNK,"$(P)$(R)RoscSrc-Sts")
}

# Tracking Generator level

record(ai, "$(P)$(R)TrkGenLvl-RB") {
  field(DESC, "Get Tracking Generators Level")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto inLvlOut $(PORT)")
  field(FLNK, "$(P)$(R)RefLvl-RB")
}

record(ao, "$(P)$(R)TrkGenLvl-SP") {
  field(DESC, "Set Tracking Generators Level")
  field(PINI, "NO")
  field(DTYP, "stream")
  field(SDIS, "$(P)$(R)EnblTrkGen-Sts.RVAL")
  field(DISV, "0")
  field(PREC, "3")
  field(DRVH, "0")
  field(DRVL, "-50")
  field(EGU, "dBm")
  field(OUT, "@rsfsx.proto outLvlOut($1) $(PORT)")
  field(FLNK,"$(P)$(R)TrkGenLvl-RB")
}

# Tracking Generator Offset Level

record(ai, "$(P)$(R)TrkGenLvlOffset-RB") {
  field(DESC, "Get Tracking Generator Offset Level")
  field(DTYP, "stream")
  field(PREC, "1")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto inLvlOutOffset $(PORT)")
  field(FLNK, "$(P)$(R)TrkGenLvl-RB")
}

record(ao, "$(P)$(R)TrkGenLvlOffset-SP") {
  field(DESC, "Set Tracking Generator Offset Level")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(SDIS, "$(P)$(R)EnblTrkGen-Sts.RVAL")
  field(DISV, "0")
  field(PREC, "1")
  field(DRVH, "200")
  field(DRVL, "-200")
  field(EGU, "dB")
  field(OUT, "@rsfsx.proto outLvlOutOffset($1) $(PORT)")
  field(FLNK,"$(P)$(R)TrkGenLvlOffset-RB")
}

# Get Spectrum
# Enable/Disable spectrum acquisition

record(bo, "$(P)$(R)GetSpectrum-Sel") {
  field(DESC, "Get Spectrum")
  field(PINI, "YES")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(FLNK, "$(P)$(R)GetSpectrum-Sts")
}

record(bi, "$(P)$(R)GetSpectrum-Sts") {
  field(INP, "$(P)$(R)GetSpectrum-Sel.RVAL")
  field(FLNK,"$(P)$(R)FreqArray-Mon")
}

# Trigger Source for the start os a sweep

record(mbbi, "$(P)$(R)TrigSrc-Sts") {
  field(DESC, "Get Sweep Trigger Source")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "IMM")
  field(ONVL, "1")
  field(ONST, "EXT")
  field(TWVL, "2")
  field(TWST, "IFP")
  field(THVL, "3")
  field(THST, "TIME")
  field(INP, "@rsfsx.proto inTrigSrc $(PORT)")
}

record(mbbo, "$(P)$(R)TrigSrc-Sel") {
  field(DESC, "Set Sweep Trigger Source")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(ZRVL, "0")
  field(ZRST, "IMM")
  field(ONVL, "1")
  field(ONST, "EXT")
  field(TWVL, "2")
  field(TWST, "IFP")
  field(THVL, "3")
  field(THST, "TIME")
  field(OUT, "@rsfsx.proto outTrigSrc($1) $(PORT)")
  field(FLNK, "$(P)$(R)TrigSrc-Sts")
}

# Get identification

record(stringin, "$(P)$(R)Idn-Cte") {
  field(DESC, "Get device identification")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(INP, "@rsfsx.proto inIdn $(PORT)")
}

# Queries Markers Y Values

# These records will only process when the respective Marker is ON
record(ai, "$(P)$(R)MarkY1-Mon") {
  field(DESC, "Get Y value of the marker")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto monMarkY1 $(PORT)")
}

record(ai, "$(P)$(R)MarkY2-Mon") {
  field(DESC, "Get Y value of the marker2")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto monMarkY2 $(PORT)")
}

record(ai, "$(P)$(R)MarkY3-Mon") {
  field(DESC, "Get Y value of the marker3")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto monMarkY3 $(PORT)")
}

record(ai, "$(P)$(R)MarkY4-Mon") {
  field(DESC, "Get Y value of the marker4")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dBm")
  field(INP, "@rsfsx.proto monMarkY4 $(PORT)")
}

# Queries Delta Markers Y Values
# These records will only process when the respective Delta Marker is ON

record(ai, "$(P)$(R)DMarkY1-Mon") {
  field(DESC, "Get Y value of the marker")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto monDMarkY1 $(PORT)")
}

record(calc, "$(P)$(R)DMarkY1Disp-Mon") {
  field(DESC, "DMarker1 y value display")
  field(PREC, "1")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkY1-Mon CPP")
  field(INPB, "$(P)$(R)MarkY1-Mon")
  field(CALC, "A+B")
}

record(ai, "$(P)$(R)DMarkY2-Mon") {
  field(DESC, "Get Y value of the marker2")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto monDMarkY2 $(PORT)")
}

record(calc, "$(P)$(R)DMarkY2Disp-Mon") {
  field(DESC, "DMarker2 y value display")
  field(PREC, "2")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkY2-Mon CPP")
  field(INPB, "$(P)$(R)MarkY1-Mon")
  field(CALC, "A+B")
}

record(ai, "$(P)$(R)DMarkY3-Mon") {
  field(DESC, "Get Y value of the marker3")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto monDMarkY3 $(PORT)")
}

record(calc, "$(P)$(R)DMarkY3Disp-Mon") {
  field(DESC, "DMarker3 y value display")
  field(PREC, "3")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkY3-Mon CPP")
  field(INPB, "$(P)$(R)MarkY1-Mon")
  field(CALC, "A+B")
}

record(ai, "$(P)$(R)DMarkY4-Mon") {
  field(DESC, "Get Y value of the marker4")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(EGU, "dB")
  field(INP, "@rsfsx.proto monDMarkY4 $(PORT)")
}

record(calc, "$(P)$(R)DMarkY4Disp-Mon") {
  field(DESC, "DMarker4 y value display")
  field(PREC, "4")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)DMarkY4-Mon CPP")
  field(INPB, "$(P)$(R)MarkY1-Mon")
  field(CALC, "A+B")
}


# Queries the result of the marker frequency count (only available for Marker1)

record(ai, "$(P)$(R)MarkCount-Mon") {
  field(DESC, "Get Marker Freq. Count Result")
  field(SCAN, ".002 second")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMarkCount-Sts.RVAL")
  field(DTYP, "stream")
  field(PREC, "3")
  field(MDEL, "-1")
  field(ADEL, "-1")
  field(EGU, "Hz")
  field(INP, "@rsfsx.proto monMarkCount $(PORT)")
}

# Read trace (waveform in single sweep mode)
# Each element of the array represents the level, in dBm

record(waveform, "$(P)$(R)Trace-Mon") {
  field(DESC, "Get trace waveform")
  field(SCAN, ".002 second")
  field(SDIS, "$(P)$(R)GetSpectrum-Sel.RVAL")
  field(DISV, "0")
  field(MPST, "On Change")
  field(APST, "On Change")
  field(PRIO, "HIGH")
  field(NELM, "32001")
  field(FTVL, "FLOAT")
  field(DTYP, "stream")
  field(INP, "@rsfsx.proto monTrace $(PORT)")
  field(FLNK, "$(P)$(R)TimeStamp")
}

# Timestamp for the Trace Array Acquisition

record(ai, "$(P)$(R)TimeStamp") {
  field(DESC, "Get Timestamp")
  field(PRIO, "HIGH")
  field(DTYP, "Soft Timestamp")
  field(INP, "@%H%M%S.%03f")
}

# Spectrogram Time Window

record(ai, "$(P)$(R)SpecTime-RB") {
  field(DESC, "Get spectrogram time window")
  field(PREC, "3")
  field(EGU, "ms")
  field(INP, "$(P)$(R)SpecTime-SP")
}

record(ao, "$(P)$(R)SpecTime-SP") {
  field(DESC, "Set spectrogram time window")
  field(PREC, "3")
  field(EGU, "ms")
  field(VAL, "450")
  field(FLNK, "$(P)$(R)SpecTime-RB")
}

# Spectrogram Mode

record(bi, "$(P)$(R)SpecMode-Sts") {
  field(DESC, "Get spectrogram mode")
  field(PINI, "YES")
  field(ZNAM, "Time Window")
  field(ONAM, "Continuous")
  field(INP, "$(P)$(R)SpecMode-Sel")
}

record(bo, "$(P)$(R)SpecMode-Sel") {
  field(DESC, "Set spectrogram mode")
  field(PINI, "YES")
  field(ZNAM, "Time Window")
  field(ONAM, "Continuous")
  field(FLNK, "$(P)$(R)SpecMode-Sts")
}

# Frequency Array

record(acalcout, "$(P)$(R)FreqArray-Mon") {
  field(DESC, "Set the frequency for each sweep point")
  field(PREC, "3")
  field(NELM, "32001")
  field(EGU, "MHz")
  field(INPA, "$(P)$(R)FreqStartDisp-Mon")
  field(INPB, "$(P)$(R)FreqStopDisp-Mon")
  field(INPC, "$(P)$(R)SwePts-RB")
  field(CALC, "IX*(B-A)/(C-1)+A")
}

# Spectrogram Array (created from level acquisition)

record(waveform, "$(P)$(R)SpecArray-Mon") {
  field(DESC, "Spectrogram")
  field(NELM, "160005")
  field(FTVL, "FLOAT")
}

# Frame Counter (implemented on sequencer)

record(longout, "$(P)$(R)FrameCount-Mon") {
  field(DESC, "Frame counter")
}

# Timestamp Limits (implemented on sequencer)

record(ao, "$(P)$(R)TimeStampInit-Mon") {
  field(DESC, "Initial frame timestamp")
  field(PREC, "3")
}

record(ao, "$(P)$(R)TimeStampEnd-Mon") {
  field(DESC, "End frame timestamp")
  field(PREC, "3")
}

# Delta Time (implemented on sequencer)

record(ao, "$(P)$(R)TimeDelta-Mon") {
  field(DESC, "Delta time from init to the end")
  field(PREC, "0")
}

######################################################################
############################ COMMAND #################################
######################################################################

# Reset to default state

record(bo, "$(P)$(R)Rst-Cmd") {
  field(DESC, "Reset to default state")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(OUT, "@rsfsx.proto cmdRst $(PORT)")
}

# Set Marker to Max Peak on Trace (1-4)

record(bo, "$(P)$(R)MarkMax1-Cmd") {
  field(DESC, "Set marker1 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMax1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMax2-Cmd") {
  field(DESC, "Set marker2 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMax2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMax3-Cmd") {
  field(DESC, "Set marker3 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMax3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMax4-Cmd") {
  field(DESC, "Set marker4 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMax4($1) $(PORT)")
}

# Set Delta Marker to Max Peak on Trace (1-4)

record(bo, "$(P)$(R)DMarkMax1-Cmd") {
  field(DESC, "Set d.marker1 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMax1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMax2-Cmd") {
  field(DESC, "Set d.marker2 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMax2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMax3-Cmd") {
  field(DESC, "Set d.marker3 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMax3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMax4-Cmd") {
  field(DESC, "Set d.marker4 to max peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMax4($1) $(PORT)")
}

# Turn all markers off

record(bo, "$(P)$(R)MarkAOff-Cmd") {
  field(DESC, "Turn all markers off")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkAOff($1) $(PORT)")
}

# Position the marker to the next smaller maximium value to the left
# of the current value (1-4)

record(bo, "$(P)$(R)MarkMaxLeft1-Cmd") {
  field(DESC, "Position marker1 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxLeft1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxLeft2-Cmd") {
  field(DESC, "Position marker2 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxLeft2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxLeft3-Cmd") {
  field(DESC, "Position marker3 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxLeft3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxLeft4-Cmd") {
  field(DESC, "Position marker4 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxLeft4($1) $(PORT)")
}

# Position the delta marker to the next smaller maximium value to the left
# of the current value (1-4)

record(bo, "$(P)$(R)DMarkMaxLeft1-Cmd") {
  field(DESC, "Position d.marker1 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxLeft1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxLeft2-Cmd") {
  field(DESC, "Position d.marker2 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxLeft2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxLeft3-Cmd") {
  field(DESC, "Position d.marker3 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxLeft3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxLeft4-Cmd") {
  field(DESC, "Position d.marker4 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxLeft4($1) $(PORT)")
}

# Position the marker to the next smaller minimium value to the left
# of the current value (1-4)

record(bo, "$(P)$(R)MarkMinLeft1-Cmd") {
  field(DESC, "Position marker1 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinLeft1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinLeft2-Cmd") {
  field(DESC, "Position marker2 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinLeft2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinLeft3-Cmd") {
  field(DESC, "Position marker3 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinLeft3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinLeft4-Cmd") {
  field(DESC, "Position marker4 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinLeft4($1) $(PORT)")
}

# Position the delta marker to the next smaller minimium value to the left
# of the current value (1-4)

record(bo, "$(P)$(R)DMarkMinLeft1-Cmd") {
  field(DESC, "Position d.marker1 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinLeft1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinLeft2-Cmd") {
  field(DESC, "Position d.marker2 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinLeft2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinLeft3-Cmd") {
  field(DESC, "Position d.marker3 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinLeft3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinLeft4-Cmd") {
  field(DESC, "Position d.marker4 to the left ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinLeft4($1) $(PORT)")
}

# Position the marker to the next smaller maximium value of the
# corresponding trace (1-4)

record(bo, "$(P)$(R)MarkMaxNext1-Cmd") {
  field(DESC, "Position mkr1 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxNext1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxNext2-Cmd") {
  field(DESC, "Position mkr2 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxNext2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxNext3-Cmd") {
  field(DESC, "Position mkr3 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxNext3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxNext4-Cmd") {
  field(DESC, "Position mkr4 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxNext4($1) $(PORT)")
}

# Position the delta marker to the next smaller maximium value of the
# corresponding trace (1-4)

record(bo, "$(P)$(R)DMarkMaxNext1-Cmd") {
  field(DESC, "Position d.mkr1 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxNext1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxNext2-Cmd") {
  field(DESC, "Position d.mkr2 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxNext2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxNext3-Cmd") {
  field(DESC, "Position d.mkr3 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxNext3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxNext4-Cmd") {
  field(DESC, "Position d.mkr4 to next value on trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxNext4($1) $(PORT)")
}

# Position the marker to the next smaller minimium value of the
# corresponding trace (1-4)

record(bo, "$(P)$(R)MarkMinNext1-Cmd") {
  field(DESC, "Position mkr1 to the next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinNext1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinNext2-Cmd") {
  field(DESC, "Position mkr2 to the next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinNext2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinNext3-Cmd") {
  field(DESC, "Position mkr3 to the next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinNext3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinNext4-Cmd") {
  field(DESC, "Position mkr4 to the next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinNext4($1) $(PORT)")
}

# Position the delta marker to the next smaller minimium value of the
# corresponding trace (1-4)

record(bo, "$(P)$(R)DMarkMinNext1-Cmd") {
  field(DESC, "Position d.mkr1 to next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinNext1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinNext2-Cmd") {
  field(DESC, "Position d.mkr2 to next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinNext2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinNext3-Cmd") {
  field(DESC, "Position d.mkr3 to next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinNext3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinNext4-Cmd") {
  field(DESC, "Position d.mkr4 to next value of trace")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinNext4($1) $(PORT)")
}

# Position the marker to the next smaller maximium value to the right
# of the current value (1-4)

record(bo, "$(P)$(R)MarkMaxRight1-Cmd") {
  field(DESC, "Position marker1 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxRight1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxRight2-Cmd") {
  field(DESC, "Position marker2 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxRight2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxRight3-Cmd") {
  field(DESC, "Position marker3 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxRight3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMaxRight4-Cmd") {
  field(DESC, "Position marker4 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMaxRight4($1) $(PORT)")
}

# Position the delta marker to the next smaller maximium value to the right
# of the current value (1-4)

record(bo, "$(P)$(R)DMarkMaxRight1-Cmd") {
  field(DESC, "Position d.marker1 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxRight1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxRight2-Cmd") {
  field(DESC, "Position d.marker2 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxRight2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxRight3-Cmd") {
  field(DESC, "Position d.marker3 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxRight3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMaxRight4-Cmd") {
  field(DESC, "Position d.marker4 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMaxRight4($1) $(PORT)")
}

# Position the marker to the next smaller minimium value to the right
# of the current value (1-4)

record(bo, "$(P)$(R)MarkMinRight1-Cmd") {
  field(DESC, "Position marker1 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinRight1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinRight2-Cmd") {
  field(DESC, "Position marker2 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinRight2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinRight3-Cmd") {
  field(DESC, "Position marker3 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinRight3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMinRight4-Cmd") {
  field(DESC, "Position marker4 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMinRight4($1) $(PORT)")
}

# Position the delta marker to the next smaller minimium value to the right
# of the current value (1-4)

record(bo, "$(P)$(R)DMarkMinRight1-Cmd") {
  field(DESC, "Position d.marker1 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark1-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinRight1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinRight2-Cmd") {
  field(DESC, "Position d.marker2 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark2-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinRight2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinRight3-Cmd") {
  field(DESC, "Position d.marker3 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark3-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinRight3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMinRight4-Cmd") {
  field(DESC, "Position d.marker4 to the right ")
  field(DISV, "0")
  field(SDIS, "$(P)$(R)EnblDMark4-Sts.RVAL")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMinRight4($1) $(PORT)")
}

# Set Marker to Min Peak on Trace (1-4)

record(bo, "$(P)$(R)MarkMin1-Cmd") {
  field(DESC, "Set marker1 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMin1($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMin2-Cmd") {
  field(DESC, "Set marker2 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMin2($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMin3-Cmd") {
  field(DESC, "Set marker3 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMin3($1) $(PORT)")
}

record(bo, "$(P)$(R)MarkMin4-Cmd") {
  field(DESC, "Set marker4 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdMarkMin4($1) $(PORT)")
}

# Switch off all delta markers

record(bo, "$(P)$(R)DMarkAOff-Cmd") {
  field(DESC, "Switch off all delta markers")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkAOff($1) $(PORT)")
}

# Set Delta Marker to Min Peak on Trace (1-4)

record(bo, "$(P)$(R)DMarkMin1-Cmd") {
  field(DESC, "Set d.marker1 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMin1($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMin2-Cmd") {
  field(DESC, "Set d.marker2 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMin2($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMin3-Cmd") {
  field(DESC, "Set d.marker3 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMin3($1) $(PORT)")
}

record(bo, "$(P)$(R)DMarkMin4-Cmd") {
  field(DESC, "Set d.marker4 to min peak on trace")
  field(DTYP, "stream")
  field(ZNAM, "0")
  field(ONAM, "1")
  field(HIGH, "1")
  field(OUT, "@rsfsx.proto cmdDMarkMin4($1) $(PORT)")
}

######################################################################
############################## SAVE ##################################
######################################################################

# Save
# Desc: Save '-Sel' and '-SP' PV values.

record(bo, "$(P)$(R)Save-Cmd"){
  field(DESC, "Manual 'Save Settings' command")
  field(MASK, "1")
  field(ZNAM, "Dsbl")
  field(ONAM, "Enbl")
  field(HIGH, "1")
}
